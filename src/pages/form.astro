---
import MainLayout from "../layouts/MainLayout.astro";
import Heading from "../components/Heading.astro";
import Text from "../components/Text.astro";
import Button from "../components/Button.astro";
---

<MainLayout title="Kontakt os">
  <section
    class="px-(--margin-section_left) py-(--margin-section_top) bg-white"
  >
    <div class="max-w-4xl mx-auto">
      <Heading
        htmlheading="h1"
        size="large"
        weight="bold"
        font="display"
        stylingclasses="text-[var(--color-green--400)] mb-6"
      >
        Kom i kontakt med os
      </Heading>

      <Text size="large" stylingclasses="mb-12 text-[var(--color-black)]">
        Udfyld formularen nedenfor, så vender vi tilbage til dig hurtigst
        muligt.
      </Text>

      <div class="max-w-2xl mx-auto p-8 bg-white shadow-lg rounded-contentBox">
        <form method="post" action="" class="space-y-6">
          <!-- Privat/Firma valg -->
          <div class="flex flex-col">
            <label for="customer-type" class="mb-1 font-semibold"
              >Er du privatperson eller virksomhed?</label
            >
            <select
              id="customer-type"
              class="form-select rounded-contentBox border"
            >
              <option value="privat" selected>Privatperson</option>
              <option value="firma">Firma</option>
            </select>
          </div>

          <!-- Privatperson felter -->
          <div id="privat-fields" class="space-y-4">
            <div class="flex flex-col">
              <label for="first-name" class="mb-1 font-semibold">Fornavn</label>
              <input
                id="first-name"
                type="text"
                name="first_name"
                class="form-input rounded-contentBox border"
                placeholder="Fornavn"
              />
            </div>

            <div class="flex flex-col">
              <label for="last-name" class="mb-1 font-semibold">Efternavn</label
              >
              <input
                id="last-name"
                type="text"
                name="last_name"
                class="form-input rounded-contentBox border"
                placeholder="Efternavn"
              />
            </div>
          </div>

          <!-- Firma felter -->
          <div id="firma-fields" class="space-y-4 hidden">
            <div class="flex flex-col">
              <label for="company-name" class="mb-1 font-semibold"
                >Firmanavn</label
              >
              <input
                id="company-name"
                type="text"
                name="company_name"
                class="form-input rounded-contentBox border"
                placeholder="Firmanavn"
              />
            </div>

            <div class="flex flex-col">
              <label for="cvr" class="mb-1 font-semibold">CVR-nummer</label>
              <input
                id="cvr"
                type="text"
                name="cvr"
                class="form-input rounded-contentBox border"
                placeholder="CVR-nummer"
              />
            </div>

            <div class="flex flex-col">
              <label for="company-address" class="mb-1 font-semibold"
                >Adresse</label
              >
              <input
                id="company-address"
                type="text"
                name="company_address"
                class="form-input rounded-contentBox border"
                placeholder="Adresse"
              />
            </div>
          </div>

          <!-- Email -->
          <div class="flex flex-col">
            <label for="email" class="mb-1 font-semibold">E-mail</label>
            <input
              id="email"
              type="email"
              name="email"
              class="form-input rounded-contentBox border"
              placeholder="eksempel@email.com"
            />
          </div>

          <!-- Telefon -->
          <div class="flex flex-col">
            <label for="phone" class="mb-1 font-semibold">Telefonnummer</label>
            <input
              id="phone"
              type="tel"
              name="phone"
              placeholder="+45 00 00 00 00"
              class="form-input rounded-contentBox border"
              oninput="this.value = this.value.replace(/[^0-9+ ]/g,'')"
            />
          </div>

          <!-- Støtteform -->
          <div class="flex flex-col">
            <label for="subject" class="mb-1 font-semibold">Støtteform</label>
            <select
              id="subject"
              name="subject"
              class="form-select rounded-contentBox border"
            >
              <option value="" disabled selected>Vælg en mulighed</option>
              <option value="Frivillig">Frivillig</option>
              <option value="Støttemedlem">Støttemedlem</option>
              <option value="Samarbejdspartner">Samarbejdspartner</option>
              <option value="Erhvervspartner">Erhvervspartner</option>
              <option value="Budskabet">Budskabet</option>
              <option value="andet">Andet</option>
            </select>
          </div>

          <!-- Besked -->
          <div class="flex flex-col">
            <label for="message" class="mb-1 font-semibold">Besked</label>
            <textarea
              id="message"
              name="message"
              rows="6"
              class="form-textarea rounded-contentBox border"
              placeholder="Skriv din besked her…"></textarea>
          </div>

          <!-- Accept privacy -->
          <div class="flex items-center space-x-2">
            <input
              id="accept-policy"
              type="checkbox"
              name="accept_policy"
              class="form-checkbox"
            />
            <label for="accept-policy"
              >Jeg accepterer privatlivspolitikken</label
            >
          </div>

          <!-- Submit button -->
          <Button
            type="submit"
            class="w-full px-6 py-3 font-semibold rounded-CTA"
          >
            Send besked
          </Button>
        </form>
      </div>
    </div>
  </section>

  <!-- Script til at vise/skjule felter -->
  <script>
    const customerType = document.getElementById(
      "customer-type",
    ) as HTMLSelectElement;
    const privatFields = document.getElementById("privat-fields");
    const firmaFields = document.getElementById("firma-fields");

    customerType.addEventListener("change", () => {
      if (customerType.value === "firma") {
        privatFields?.classList.add("hidden");
        firmaFields?.classList.remove("hidden");
      } else {
        privatFields?.classList.remove("hidden");
        firmaFields?.classList.add("hidden");
      }
    });
  </script>
</MainLayout>
